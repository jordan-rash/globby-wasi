// Generated by `wit-bindgen` 0.12.0. DO NOT EDIT!
package globby

// #include "globby.h"
import "C"

import "unsafe"

import "fmt"

type WasiPollPollPollable = uint32
type WasiIoStreamsPollable = uint32
type WasiIoStreamsStreamStatusKind int

const (
WasiIoStreamsStreamStatusKindOpen WasiIoStreamsStreamStatusKind = iota
WasiIoStreamsStreamStatusKindEnded
)

type WasiIoStreamsStreamStatus struct {
  kind WasiIoStreamsStreamStatusKind
}

func (n WasiIoStreamsStreamStatus) Kind() WasiIoStreamsStreamStatusKind {
  return n.kind
}

func WasiIoStreamsStreamStatusOpen() WasiIoStreamsStreamStatus{
  return WasiIoStreamsStreamStatus{kind: WasiIoStreamsStreamStatusKindOpen}
}

func WasiIoStreamsStreamStatusEnded() WasiIoStreamsStreamStatus{
  return WasiIoStreamsStreamStatus{kind: WasiIoStreamsStreamStatusKindEnded}
}

type WasiIoStreamsInputStream = uint32
type WasiIoStreamsOutputStream = uint32
type WasiIoStreamsWriteErrorKind int

const (
WasiIoStreamsWriteErrorKindLastOperationFailed WasiIoStreamsWriteErrorKind = iota
WasiIoStreamsWriteErrorKindClosed
)

type WasiIoStreamsWriteError struct {
  kind WasiIoStreamsWriteErrorKind
}

func (n WasiIoStreamsWriteError) Kind() WasiIoStreamsWriteErrorKind {
  return n.kind
}

func WasiIoStreamsWriteErrorLastOperationFailed() WasiIoStreamsWriteError{
  return WasiIoStreamsWriteError{kind: WasiIoStreamsWriteErrorKindLastOperationFailed}
}

func WasiIoStreamsWriteErrorClosed() WasiIoStreamsWriteError{
  return WasiIoStreamsWriteError{kind: WasiIoStreamsWriteErrorKindClosed}
}

type WasiIoStreamsTuple2ListU8TWasiIoStreamsStreamStatusT struct {
  F0 []uint8
  F1 WasiIoStreamsStreamStatus
}

type WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT struct {
  F0 uint64
  F1 WasiIoStreamsStreamStatus
}

type WasiBlobstoreTypesInputStream = uint32
type WasiBlobstoreTypesOutputStream = uint32
type WasiBlobstoreTypesContainerName = string
type WasiBlobstoreTypesObjectName = string
type WasiBlobstoreTypesTimestamp = uint64
type WasiBlobstoreTypesObjectSize = uint64
type WasiBlobstoreTypesError = string
type WasiBlobstoreTypesContainerMetadata struct {
  Name string
  CreatedAt uint64
}

type WasiBlobstoreTypesObjectMetadata struct {
  Name string
  Container string
  CreatedAt uint64
  Size uint64
}

type WasiBlobstoreTypesObjectId struct {
  Container string
  Object string
}

type WasiBlobstoreTypesOutgoingValue = uint32
type WasiBlobstoreTypesIncomingValue = uint32
type WasiBlobstoreTypesIncomingValueAsyncBody = uint32
type WasiBlobstoreTypesIncomingValueSyncBody = uint8
type WasiBlobstoreContainerInputStream = uint32
type WasiBlobstoreContainerOutputStream = uint32
type WasiBlobstoreContainerContainerMetadata = WasiBlobstoreTypesContainerMetadata
type WasiBlobstoreContainerError = string
type WasiBlobstoreContainerIncomingValue = uint32
type WasiBlobstoreContainerObjectMetadata = WasiBlobstoreTypesObjectMetadata
type WasiBlobstoreContainerObjectName = string
type WasiBlobstoreContainerOutgoingValue = uint32
type WasiBlobstoreContainerContainer = uint32
type WasiBlobstoreContainerStreamObjectNames = uint32
type WasiBlobstoreContainerTuple2ListWasiBlobstoreContainerObjectNameTBoolT struct {
  F0 []string
  F1 bool
}

type WasiBlobstoreContainerTuple2U64BoolT struct {
  F0 uint64
  F1 bool
}

type WasiBlobstoreBlobstoreContainer = uint32
type WasiBlobstoreBlobstoreError = string
type WasiBlobstoreBlobstoreContainerName = string
type WasiBlobstoreBlobstoreObjectId = WasiBlobstoreTypesObjectId
type WasiHttpTypesInputStream = uint32
type WasiHttpTypesOutputStream = uint32
type WasiHttpTypesPollable = uint32
type WasiHttpTypesMethodKind int

const (
WasiHttpTypesMethodKindGet WasiHttpTypesMethodKind = iota
WasiHttpTypesMethodKindHead
WasiHttpTypesMethodKindPost
WasiHttpTypesMethodKindPut
WasiHttpTypesMethodKindDelete
WasiHttpTypesMethodKindConnect
WasiHttpTypesMethodKindOptions
WasiHttpTypesMethodKindTrace
WasiHttpTypesMethodKindPatch
WasiHttpTypesMethodKindOther
)

type WasiHttpTypesMethod struct {
  kind WasiHttpTypesMethodKind
  val any
}

func (n WasiHttpTypesMethod) Kind() WasiHttpTypesMethodKind {
  return n.kind
}

func WasiHttpTypesMethodGet() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindGet}
}

func WasiHttpTypesMethodHead() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindHead}
}

func WasiHttpTypesMethodPost() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindPost}
}

func WasiHttpTypesMethodPut() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindPut}
}

func WasiHttpTypesMethodDelete() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindDelete}
}

func WasiHttpTypesMethodConnect() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindConnect}
}

func WasiHttpTypesMethodOptions() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindOptions}
}

func WasiHttpTypesMethodTrace() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindTrace}
}

func WasiHttpTypesMethodPatch() WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindPatch}
}

func WasiHttpTypesMethodOther(v string) WasiHttpTypesMethod{
  return WasiHttpTypesMethod{kind: WasiHttpTypesMethodKindOther, val: v}
}

func (n WasiHttpTypesMethod) GetOther() string{
  if g, w := n.Kind(), WasiHttpTypesMethodKindOther; g != w {
    panic(fmt.Sprintf("Attr kind is %v, not %v", g, w))
  }
  return n.val.(string)
}

func (n *WasiHttpTypesMethod) SetOther(v string) {
  n.val = v
  n.kind = WasiHttpTypesMethodKindOther
}

type WasiHttpTypesSchemeKind int

const (
WasiHttpTypesSchemeKindHttp WasiHttpTypesSchemeKind = iota
WasiHttpTypesSchemeKindHttps
WasiHttpTypesSchemeKindOther
)

type WasiHttpTypesScheme struct {
  kind WasiHttpTypesSchemeKind
  val any
}

func (n WasiHttpTypesScheme) Kind() WasiHttpTypesSchemeKind {
  return n.kind
}

func WasiHttpTypesSchemeHttp() WasiHttpTypesScheme{
  return WasiHttpTypesScheme{kind: WasiHttpTypesSchemeKindHttp}
}

func WasiHttpTypesSchemeHttps() WasiHttpTypesScheme{
  return WasiHttpTypesScheme{kind: WasiHttpTypesSchemeKindHttps}
}

func WasiHttpTypesSchemeOther(v string) WasiHttpTypesScheme{
  return WasiHttpTypesScheme{kind: WasiHttpTypesSchemeKindOther, val: v}
}

func (n WasiHttpTypesScheme) GetOther() string{
  if g, w := n.Kind(), WasiHttpTypesSchemeKindOther; g != w {
    panic(fmt.Sprintf("Attr kind is %v, not %v", g, w))
  }
  return n.val.(string)
}

func (n *WasiHttpTypesScheme) SetOther(v string) {
  n.val = v
  n.kind = WasiHttpTypesSchemeKindOther
}

type WasiHttpTypesErrorKind int

const (
WasiHttpTypesErrorKindInvalidUrl WasiHttpTypesErrorKind = iota
WasiHttpTypesErrorKindTimeoutError
WasiHttpTypesErrorKindProtocolError
WasiHttpTypesErrorKindUnexpectedError
)

type WasiHttpTypesError struct {
  kind WasiHttpTypesErrorKind
  val any
}

func (n WasiHttpTypesError) Kind() WasiHttpTypesErrorKind {
  return n.kind
}

func WasiHttpTypesErrorInvalidUrl(v string) WasiHttpTypesError{
  return WasiHttpTypesError{kind: WasiHttpTypesErrorKindInvalidUrl, val: v}
}

func (n WasiHttpTypesError) GetInvalidUrl() string{
  if g, w := n.Kind(), WasiHttpTypesErrorKindInvalidUrl; g != w {
    panic(fmt.Sprintf("Attr kind is %v, not %v", g, w))
  }
  return n.val.(string)
}

func (n *WasiHttpTypesError) SetInvalidUrl(v string) {
  n.val = v
  n.kind = WasiHttpTypesErrorKindInvalidUrl
}

func WasiHttpTypesErrorTimeoutError(v string) WasiHttpTypesError{
  return WasiHttpTypesError{kind: WasiHttpTypesErrorKindTimeoutError, val: v}
}

func (n WasiHttpTypesError) GetTimeoutError() string{
  if g, w := n.Kind(), WasiHttpTypesErrorKindTimeoutError; g != w {
    panic(fmt.Sprintf("Attr kind is %v, not %v", g, w))
  }
  return n.val.(string)
}

func (n *WasiHttpTypesError) SetTimeoutError(v string) {
  n.val = v
  n.kind = WasiHttpTypesErrorKindTimeoutError
}

func WasiHttpTypesErrorProtocolError(v string) WasiHttpTypesError{
  return WasiHttpTypesError{kind: WasiHttpTypesErrorKindProtocolError, val: v}
}

func (n WasiHttpTypesError) GetProtocolError() string{
  if g, w := n.Kind(), WasiHttpTypesErrorKindProtocolError; g != w {
    panic(fmt.Sprintf("Attr kind is %v, not %v", g, w))
  }
  return n.val.(string)
}

func (n *WasiHttpTypesError) SetProtocolError(v string) {
  n.val = v
  n.kind = WasiHttpTypesErrorKindProtocolError
}

func WasiHttpTypesErrorUnexpectedError(v string) WasiHttpTypesError{
  return WasiHttpTypesError{kind: WasiHttpTypesErrorKindUnexpectedError, val: v}
}

func (n WasiHttpTypesError) GetUnexpectedError() string{
  if g, w := n.Kind(), WasiHttpTypesErrorKindUnexpectedError; g != w {
    panic(fmt.Sprintf("Attr kind is %v, not %v", g, w))
  }
  return n.val.(string)
}

func (n *WasiHttpTypesError) SetUnexpectedError(v string) {
  n.val = v
  n.kind = WasiHttpTypesErrorKindUnexpectedError
}

type WasiHttpTypesFields = uint32
type WasiHttpTypesHeaders = uint32
type WasiHttpTypesTrailers = uint32
type WasiHttpTypesIncomingStream = uint32
type WasiHttpTypesOutgoingStream = uint32
type WasiHttpTypesFutureTrailers = uint32
type WasiHttpTypesFutureWriteTrailersResult = uint32
type WasiHttpTypesIncomingRequest = uint32
type WasiHttpTypesOutgoingRequest = uint32
type WasiHttpTypesRequestOptions struct {
  ConnectTimeoutMs Option[uint32]
  FirstByteTimeoutMs Option[uint32]
  BetweenBytesTimeoutMs Option[uint32]
}

type WasiHttpTypesResponseOutparam = uint32
type WasiHttpTypesStatusCode = uint16
type WasiHttpTypesIncomingResponse = uint32
type WasiHttpTypesOutgoingResponse = uint32
type WasiHttpTypesFutureIncomingResponse = uint32
type WasiHttpTypesTuple2StringListU8TT struct {
  F0 string
  F1 []uint8
}

type WasiHttpIncomingHandlerIncomingRequest = uint32
type WasiHttpIncomingHandlerResponseOutparam = uint32
type WasiLoggingLoggingLevelKind int

const (
WasiLoggingLoggingLevelKindTrace WasiLoggingLoggingLevelKind = iota
WasiLoggingLoggingLevelKindDebug
WasiLoggingLoggingLevelKindInfo
WasiLoggingLoggingLevelKindWarn
WasiLoggingLoggingLevelKindError
WasiLoggingLoggingLevelKindCritical
)

type WasiLoggingLoggingLevel struct {
  kind WasiLoggingLoggingLevelKind
}

func (n WasiLoggingLoggingLevel) Kind() WasiLoggingLoggingLevelKind {
  return n.kind
}

func WasiLoggingLoggingLevelTrace() WasiLoggingLoggingLevel{
  return WasiLoggingLoggingLevel{kind: WasiLoggingLoggingLevelKindTrace}
}

func WasiLoggingLoggingLevelDebug() WasiLoggingLoggingLevel{
  return WasiLoggingLoggingLevel{kind: WasiLoggingLoggingLevelKindDebug}
}

func WasiLoggingLoggingLevelInfo() WasiLoggingLoggingLevel{
  return WasiLoggingLoggingLevel{kind: WasiLoggingLoggingLevelKindInfo}
}

func WasiLoggingLoggingLevelWarn() WasiLoggingLoggingLevel{
  return WasiLoggingLoggingLevel{kind: WasiLoggingLoggingLevelKindWarn}
}

func WasiLoggingLoggingLevelError() WasiLoggingLoggingLevel{
  return WasiLoggingLoggingLevel{kind: WasiLoggingLoggingLevelKindError}
}

func WasiLoggingLoggingLevelCritical() WasiLoggingLoggingLevel{
  return WasiLoggingLoggingLevel{kind: WasiLoggingLoggingLevelKindCritical}
}

// Import functions from wasi:poll/poll
func WasiPollPollDropPollable(this uint32) {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  C.wasi_poll_poll_drop_pollable(lower_this)
}

func WasiPollPollPollOneoff(in []uint32) []bool {
  var lower_in C.globby_list_wasi_poll_poll_pollable_t
  if len(in) == 0 {
    lower_in.ptr = nil
    lower_in.len = 0
  } else {
    var empty_lower_in C.wasi_poll_poll_pollable_t
    lower_in.ptr = (*C.wasi_poll_poll_pollable_t)(C.malloc(C.size_t(len(in)) * C.size_t(unsafe.Sizeof(empty_lower_in))))
    lower_in.len = C.size_t(len(in))
    for lower_in_i := range in {
      lower_in_ptr := (*C.wasi_poll_poll_pollable_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_in.ptr)) +
      uintptr(lower_in_i)*unsafe.Sizeof(empty_lower_in)))
      var lower_in_ptr_value C.uint32_t
      lower_in_ptr_value_val := C.uint32_t(in[lower_in_i])
      lower_in_ptr_value = lower_in_ptr_value_val
      *lower_in_ptr = lower_in_ptr_value
    }
  }
  defer C.globby_list_wasi_poll_poll_pollable_free(&lower_in)
  var ret C.globby_list_bool_t
  C.wasi_poll_poll_poll_oneoff(&lower_in, &ret)
  var lift_ret []bool
  lift_ret = make([]bool, ret.len)
  if ret.len > 0 {
    for lift_ret_i := 0; lift_ret_i < int(ret.len); lift_ret_i++ {
      var empty_lift_ret bool
      lift_ret_ptr := *(*bool)(unsafe.Pointer(uintptr(unsafe.Pointer(ret.ptr)) +
      uintptr(lift_ret_i)*unsafe.Sizeof(empty_lift_ret)))
      list_lift_ret := lift_ret_ptr
      lift_ret[lift_ret_i] = list_lift_ret
    }
  }
  return lift_ret
}

// Import functions from wasi:io/streams
func WasiIoStreamsRead(this uint32, len uint64) Result[WasiIoStreamsTuple2ListU8TWasiIoStreamsStreamStatusT, struct{}] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_tuple2_list_u8_wasi_io_streams_stream_status_void_t
  C.wasi_io_streams_read(lower_this, lower_len, &ret)
  var lift_ret Result[WasiIoStreamsTuple2ListU8TWasiIoStreamsStreamStatusT, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_list_u8_wasi_io_streams_stream_status_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsTuple2ListU8TWasiIoStreamsStreamStatusT
    var lift_ret_val_F0 []uint8
    lift_ret_val_F0 = make([]uint8, lift_ret_ptr.f0.len)
    if lift_ret_ptr.f0.len > 0 {
      for lift_ret_val_F0_i := 0; lift_ret_val_F0_i < int(lift_ret_ptr.f0.len); lift_ret_val_F0_i++ {
        var empty_lift_ret_val_F0 C.uint8_t
        lift_ret_val_F0_ptr := *(*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lift_ret_ptr.f0.ptr)) +
        uintptr(lift_ret_val_F0_i)*unsafe.Sizeof(empty_lift_ret_val_F0)))
        var list_lift_ret_val_F0 uint8
        list_lift_ret_val_F0 = uint8(lift_ret_val_F0_ptr)
        lift_ret_val_F0[lift_ret_val_F0_i] = list_lift_ret_val_F0
      }
    }
    lift_ret_val.F0 = lift_ret_val_F0
    var lift_ret_val_F1 WasiIoStreamsStreamStatus
    if lift_ret_ptr.f1 == 0 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusOpen()
    }
    if lift_ret_ptr.f1 == 1 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusEnded()
    }
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsBlockingRead(this uint32, len uint64) Result[WasiIoStreamsTuple2ListU8TWasiIoStreamsStreamStatusT, struct{}] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_tuple2_list_u8_wasi_io_streams_stream_status_void_t
  C.wasi_io_streams_blocking_read(lower_this, lower_len, &ret)
  var lift_ret Result[WasiIoStreamsTuple2ListU8TWasiIoStreamsStreamStatusT, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_list_u8_wasi_io_streams_stream_status_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsTuple2ListU8TWasiIoStreamsStreamStatusT
    var lift_ret_val_F0 []uint8
    lift_ret_val_F0 = make([]uint8, lift_ret_ptr.f0.len)
    if lift_ret_ptr.f0.len > 0 {
      for lift_ret_val_F0_i := 0; lift_ret_val_F0_i < int(lift_ret_ptr.f0.len); lift_ret_val_F0_i++ {
        var empty_lift_ret_val_F0 C.uint8_t
        lift_ret_val_F0_ptr := *(*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lift_ret_ptr.f0.ptr)) +
        uintptr(lift_ret_val_F0_i)*unsafe.Sizeof(empty_lift_ret_val_F0)))
        var list_lift_ret_val_F0 uint8
        list_lift_ret_val_F0 = uint8(lift_ret_val_F0_ptr)
        lift_ret_val_F0[lift_ret_val_F0_i] = list_lift_ret_val_F0
      }
    }
    lift_ret_val.F0 = lift_ret_val_F0
    var lift_ret_val_F1 WasiIoStreamsStreamStatus
    if lift_ret_ptr.f1 == 0 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusOpen()
    }
    if lift_ret_ptr.f1 == 1 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusEnded()
    }
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsSkip(this uint32, len uint64) Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_tuple2_u64_wasi_io_streams_stream_status_void_t
  C.wasi_io_streams_skip(lower_this, lower_len, &ret)
  var lift_ret Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_u64_wasi_io_streams_stream_status_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT
    var lift_ret_val_F0 uint64
    lift_ret_val_F0 = uint64(lift_ret_ptr.f0)
    lift_ret_val.F0 = lift_ret_val_F0
    var lift_ret_val_F1 WasiIoStreamsStreamStatus
    if lift_ret_ptr.f1 == 0 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusOpen()
    }
    if lift_ret_ptr.f1 == 1 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusEnded()
    }
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsBlockingSkip(this uint32, len uint64) Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_tuple2_u64_wasi_io_streams_stream_status_void_t
  C.wasi_io_streams_blocking_skip(lower_this, lower_len, &ret)
  var lift_ret Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_u64_wasi_io_streams_stream_status_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT
    var lift_ret_val_F0 uint64
    lift_ret_val_F0 = uint64(lift_ret_ptr.f0)
    lift_ret_val.F0 = lift_ret_val_F0
    var lift_ret_val_F1 WasiIoStreamsStreamStatus
    if lift_ret_ptr.f1 == 0 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusOpen()
    }
    if lift_ret_ptr.f1 == 1 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusEnded()
    }
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsSubscribeToInputStream(this uint32) uint32 {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  ret := C.wasi_io_streams_subscribe_to_input_stream(lower_this)
  var lift_ret uint32
  var lift_ret_val uint32
  var lift_ret_val_val uint32
  lift_ret_val_val = uint32(ret)
  lift_ret_val = lift_ret_val_val
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiIoStreamsDropInputStream(this uint32) {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  C.wasi_io_streams_drop_input_stream(lower_this)
}

func WasiIoStreamsCheckWrite(this uint32) Result[uint64, WasiIoStreamsWriteError] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var ret C.globby_result_u64_wasi_io_streams_write_error_t
  C.wasi_io_streams_check_write(lower_this, &ret)
  var lift_ret Result[uint64, WasiIoStreamsWriteError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_io_streams_write_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsWriteError
    if lift_ret_ptr == 0 {
      lift_ret_val = WasiIoStreamsWriteErrorLastOperationFailed()
    }
    if lift_ret_ptr == 1 {
      lift_ret_val = WasiIoStreamsWriteErrorClosed()
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.uint64_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint64
    lift_ret_val = uint64(lift_ret_ptr)
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsWrite(this uint32, contents []uint8) Result[struct{}, WasiIoStreamsWriteError] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var lower_contents C.globby_list_u8_t
  if len(contents) == 0 {
    lower_contents.ptr = nil
    lower_contents.len = 0
  } else {
    var empty_lower_contents C.uint8_t
    lower_contents.ptr = (*C.uint8_t)(C.malloc(C.size_t(len(contents)) * C.size_t(unsafe.Sizeof(empty_lower_contents))))
    lower_contents.len = C.size_t(len(contents))
    for lower_contents_i := range contents {
      lower_contents_ptr := (*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_contents.ptr)) +
      uintptr(lower_contents_i)*unsafe.Sizeof(empty_lower_contents)))
      lower_contents_ptr_value := C.uint8_t(contents[lower_contents_i])
      *lower_contents_ptr = lower_contents_ptr_value
    }
  }
  defer C.globby_list_u8_free(&lower_contents)
  var ret C.globby_result_void_wasi_io_streams_write_error_t
  C.wasi_io_streams_write(lower_this, &lower_contents, &ret)
  var lift_ret Result[struct{}, WasiIoStreamsWriteError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_io_streams_write_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsWriteError
    if lift_ret_ptr == 0 {
      lift_ret_val = WasiIoStreamsWriteErrorLastOperationFailed()
    }
    if lift_ret_ptr == 1 {
      lift_ret_val = WasiIoStreamsWriteErrorClosed()
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiIoStreamsBlockingWriteAndFlush(this uint32, contents []uint8) Result[struct{}, WasiIoStreamsWriteError] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var lower_contents C.globby_list_u8_t
  if len(contents) == 0 {
    lower_contents.ptr = nil
    lower_contents.len = 0
  } else {
    var empty_lower_contents C.uint8_t
    lower_contents.ptr = (*C.uint8_t)(C.malloc(C.size_t(len(contents)) * C.size_t(unsafe.Sizeof(empty_lower_contents))))
    lower_contents.len = C.size_t(len(contents))
    for lower_contents_i := range contents {
      lower_contents_ptr := (*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_contents.ptr)) +
      uintptr(lower_contents_i)*unsafe.Sizeof(empty_lower_contents)))
      lower_contents_ptr_value := C.uint8_t(contents[lower_contents_i])
      *lower_contents_ptr = lower_contents_ptr_value
    }
  }
  defer C.globby_list_u8_free(&lower_contents)
  var ret C.globby_result_void_wasi_io_streams_write_error_t
  C.wasi_io_streams_blocking_write_and_flush(lower_this, &lower_contents, &ret)
  var lift_ret Result[struct{}, WasiIoStreamsWriteError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_io_streams_write_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsWriteError
    if lift_ret_ptr == 0 {
      lift_ret_val = WasiIoStreamsWriteErrorLastOperationFailed()
    }
    if lift_ret_ptr == 1 {
      lift_ret_val = WasiIoStreamsWriteErrorClosed()
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiIoStreamsFlush(this uint32) Result[struct{}, WasiIoStreamsWriteError] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var ret C.globby_result_void_wasi_io_streams_write_error_t
  C.wasi_io_streams_flush(lower_this, &ret)
  var lift_ret Result[struct{}, WasiIoStreamsWriteError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_io_streams_write_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsWriteError
    if lift_ret_ptr == 0 {
      lift_ret_val = WasiIoStreamsWriteErrorLastOperationFailed()
    }
    if lift_ret_ptr == 1 {
      lift_ret_val = WasiIoStreamsWriteErrorClosed()
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiIoStreamsBlockingFlush(this uint32) Result[struct{}, WasiIoStreamsWriteError] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var ret C.globby_result_void_wasi_io_streams_write_error_t
  C.wasi_io_streams_blocking_flush(lower_this, &ret)
  var lift_ret Result[struct{}, WasiIoStreamsWriteError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_io_streams_write_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsWriteError
    if lift_ret_ptr == 0 {
      lift_ret_val = WasiIoStreamsWriteErrorLastOperationFailed()
    }
    if lift_ret_ptr == 1 {
      lift_ret_val = WasiIoStreamsWriteErrorClosed()
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiIoStreamsSubscribeToOutputStream(this uint32) uint32 {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  ret := C.wasi_io_streams_subscribe_to_output_stream(lower_this)
  var lift_ret uint32
  var lift_ret_val uint32
  var lift_ret_val_val uint32
  lift_ret_val_val = uint32(ret)
  lift_ret_val = lift_ret_val_val
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiIoStreamsWriteZeroes(this uint32, len uint64) Result[struct{}, WasiIoStreamsWriteError] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_void_wasi_io_streams_write_error_t
  C.wasi_io_streams_write_zeroes(lower_this, lower_len, &ret)
  var lift_ret Result[struct{}, WasiIoStreamsWriteError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_io_streams_write_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsWriteError
    if lift_ret_ptr == 0 {
      lift_ret_val = WasiIoStreamsWriteErrorLastOperationFailed()
    }
    if lift_ret_ptr == 1 {
      lift_ret_val = WasiIoStreamsWriteErrorClosed()
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiIoStreamsSplice(this uint32, src uint32, len uint64) Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var lower_src C.uint32_t
  lower_src_val := C.uint32_t(src)
  lower_src = lower_src_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_tuple2_u64_wasi_io_streams_stream_status_void_t
  C.wasi_io_streams_splice(lower_this, lower_src, lower_len, &ret)
  var lift_ret Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_u64_wasi_io_streams_stream_status_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT
    var lift_ret_val_F0 uint64
    lift_ret_val_F0 = uint64(lift_ret_ptr.f0)
    lift_ret_val.F0 = lift_ret_val_F0
    var lift_ret_val_F1 WasiIoStreamsStreamStatus
    if lift_ret_ptr.f1 == 0 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusOpen()
    }
    if lift_ret_ptr.f1 == 1 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusEnded()
    }
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsBlockingSplice(this uint32, src uint32, len uint64) Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var lower_src C.uint32_t
  lower_src_val := C.uint32_t(src)
  lower_src = lower_src_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_tuple2_u64_wasi_io_streams_stream_status_void_t
  C.wasi_io_streams_blocking_splice(lower_this, lower_src, lower_len, &ret)
  var lift_ret Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_u64_wasi_io_streams_stream_status_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT
    var lift_ret_val_F0 uint64
    lift_ret_val_F0 = uint64(lift_ret_ptr.f0)
    lift_ret_val.F0 = lift_ret_val_F0
    var lift_ret_val_F1 WasiIoStreamsStreamStatus
    if lift_ret_ptr.f1 == 0 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusOpen()
    }
    if lift_ret_ptr.f1 == 1 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusEnded()
    }
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsForward(this uint32, src uint32) Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  var lower_src C.uint32_t
  lower_src_val := C.uint32_t(src)
  lower_src = lower_src_val
  var ret C.globby_result_tuple2_u64_wasi_io_streams_stream_status_void_t
  C.wasi_io_streams_forward(lower_this, lower_src, &ret)
  var lift_ret Result[WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_u64_wasi_io_streams_stream_status_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiIoStreamsTuple2U64WasiIoStreamsStreamStatusT
    var lift_ret_val_F0 uint64
    lift_ret_val_F0 = uint64(lift_ret_ptr.f0)
    lift_ret_val.F0 = lift_ret_val_F0
    var lift_ret_val_F1 WasiIoStreamsStreamStatus
    if lift_ret_ptr.f1 == 0 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusOpen()
    }
    if lift_ret_ptr.f1 == 1 {
      lift_ret_val_F1 = WasiIoStreamsStreamStatusEnded()
    }
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiIoStreamsDropOutputStream(this uint32) {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  C.wasi_io_streams_drop_output_stream(lower_this)
}

// Import functions from wasi:blobstore/types
func WasiBlobstoreTypesDropOutgoingValue(outgoing_value uint32) {
  var lower_outgoing_value C.uint32_t
  lower_outgoing_value_val := C.uint32_t(outgoing_value)
  lower_outgoing_value = lower_outgoing_value_val
  C.wasi_blobstore_types_drop_outgoing_value(lower_outgoing_value)
}

func WasiBlobstoreTypesNewOutgoingValue() uint32 {
  ret := C.wasi_blobstore_types_new_outgoing_value()
  var lift_ret uint32
  var lift_ret_val uint32
  lift_ret_val = uint32(ret)
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiBlobstoreTypesOutgoingValueWriteBody(outgoing_value uint32) Result[uint32, struct{}] {
  var lower_outgoing_value C.uint32_t
  lower_outgoing_value_val := C.uint32_t(outgoing_value)
  lower_outgoing_value = lower_outgoing_value_val
  var ret C.globby_result_wasi_blobstore_types_output_stream_void_t
  C.wasi_blobstore_types_outgoing_value_write_body(lower_outgoing_value, &ret)
  var lift_ret Result[uint32, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_types_output_stream_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    lift_ret_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreTypesDropIncomingValue(incoming_value uint32) {
  var lower_incoming_value C.uint32_t
  lower_incoming_value_val := C.uint32_t(incoming_value)
  lower_incoming_value = lower_incoming_value_val
  C.wasi_blobstore_types_drop_incoming_value(lower_incoming_value)
}

func WasiBlobstoreTypesIncomingValueConsumeSync(incoming_value uint32) Result[[]uint8, string] {
  var lower_incoming_value C.uint32_t
  lower_incoming_value_val := C.uint32_t(incoming_value)
  lower_incoming_value = lower_incoming_value_val
  var ret C.globby_result_wasi_blobstore_types_incoming_value_sync_body_wasi_blobstore_types_error_t
  C.wasi_blobstore_types_incoming_value_consume_sync(lower_incoming_value, &ret)
  var lift_ret Result[[]uint8, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_types_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_types_incoming_value_sync_body_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val []uint8
    lift_ret_val = make([]uint8, lift_ret_ptr.len)
    if lift_ret_ptr.len > 0 {
      for lift_ret_val_i := 0; lift_ret_val_i < int(lift_ret_ptr.len); lift_ret_val_i++ {
        var empty_lift_ret_val C.uint8_t
        lift_ret_val_ptr := *(*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lift_ret_ptr.ptr)) +
        uintptr(lift_ret_val_i)*unsafe.Sizeof(empty_lift_ret_val)))
        var list_lift_ret_val uint8
        list_lift_ret_val = uint8(lift_ret_val_ptr)
        lift_ret_val[lift_ret_val_i] = list_lift_ret_val
      }
    }
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreTypesIncomingValueConsumeAsync(incoming_value uint32) Result[uint32, string] {
  var lower_incoming_value C.uint32_t
  lower_incoming_value_val := C.uint32_t(incoming_value)
  lower_incoming_value = lower_incoming_value_val
  var ret C.globby_result_wasi_blobstore_types_incoming_value_async_body_wasi_blobstore_types_error_t
  C.wasi_blobstore_types_incoming_value_consume_async(lower_incoming_value, &ret)
  var lift_ret Result[uint32, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_types_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_types_incoming_value_async_body_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    var lift_ret_val_val_val_val uint32
    lift_ret_val_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val_val = lift_ret_val_val_val_val
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreTypesSize(incoming_value uint32) uint64 {
  var lower_incoming_value C.uint32_t
  lower_incoming_value_val := C.uint32_t(incoming_value)
  lower_incoming_value = lower_incoming_value_val
  ret := C.wasi_blobstore_types_size(lower_incoming_value)
  var lift_ret uint64
  lift_ret = uint64(ret)
  return lift_ret
}

// Import functions from wasi:blobstore/container
func WasiBlobstoreContainerDropContainer(container uint32) {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  C.wasi_blobstore_container_drop_container(lower_container)
}

func WasiBlobstoreContainerName(container uint32) Result[string, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var ret C.globby_result_string_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_name(lower_container, &ret)
  var lift_ret Result[string, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.globby_string_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    lift_ret_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerInfo(container uint32) Result[WasiBlobstoreTypesContainerMetadata, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var ret C.globby_result_wasi_blobstore_container_container_metadata_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_info(lower_container, &ret)
  var lift_ret Result[WasiBlobstoreTypesContainerMetadata, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_container_container_metadata_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiBlobstoreTypesContainerMetadata
    var lift_ret_val_val WasiBlobstoreTypesContainerMetadata
    var lift_ret_val_val_Name string
    var lift_ret_val_val_Name_val string
    lift_ret_val_val_Name_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.name.ptr)), C.int(lift_ret_ptr.name.len))
    lift_ret_val_val_Name = lift_ret_val_val_Name_val
    lift_ret_val_val.Name = lift_ret_val_val_Name
    var lift_ret_val_val_CreatedAt uint64
    var lift_ret_val_val_CreatedAt_val uint64
    lift_ret_val_val_CreatedAt_val = uint64(lift_ret_ptr.created_at)
    lift_ret_val_val_CreatedAt = lift_ret_val_val_CreatedAt_val
    lift_ret_val_val.CreatedAt = lift_ret_val_val_CreatedAt
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerGetData(container uint32, name string, start uint64, end uint64) Result[uint32, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var lower_name C.wasi_blobstore_types_object_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_container_object_name_free(&lower_name)
  lower_start := C.uint64_t(start)
  lower_end := C.uint64_t(end)
  var ret C.globby_result_wasi_blobstore_container_incoming_value_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_get_data(lower_container, &lower_name, lower_start, lower_end, &ret)
  var lift_ret Result[uint32, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_container_incoming_value_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    lift_ret_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerWriteData(container uint32, name string, data uint32) Result[struct{}, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var lower_name C.wasi_blobstore_types_object_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_container_object_name_free(&lower_name)
  var lower_data C.wasi_blobstore_types_outgoing_value_t
  var lower_data_val C.uint32_t
  lower_data_val_val := C.uint32_t(data)
  lower_data_val = lower_data_val_val
  lower_data = lower_data_val
  var ret C.globby_result_void_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_write_data(lower_container, &lower_name, lower_data, &ret)
  var lift_ret Result[struct{}, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiBlobstoreContainerDropStreamObjectNames(names uint32) {
  var lower_names C.uint32_t
  lower_names_val := C.uint32_t(names)
  lower_names = lower_names_val
  C.wasi_blobstore_container_drop_stream_object_names(lower_names)
}

func WasiBlobstoreContainerReadStreamObjectNames(this uint32, len uint64) Result[WasiBlobstoreContainerTuple2ListWasiBlobstoreContainerObjectNameTBoolT, string] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  lower_len := C.uint64_t(len)
  var ret C.globby_result_tuple2_list_wasi_blobstore_container_object_name_bool_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_read_stream_object_names(lower_this, lower_len, &ret)
  var lift_ret Result[WasiBlobstoreContainerTuple2ListWasiBlobstoreContainerObjectNameTBoolT, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_list_wasi_blobstore_container_object_name_bool_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiBlobstoreContainerTuple2ListWasiBlobstoreContainerObjectNameTBoolT
    var lift_ret_val_F0 []string
    lift_ret_val_F0 = make([]string, lift_ret_ptr.f0.len)
    if lift_ret_ptr.f0.len > 0 {
      for lift_ret_val_F0_i := 0; lift_ret_val_F0_i < int(lift_ret_ptr.f0.len); lift_ret_val_F0_i++ {
        var empty_lift_ret_val_F0 C.wasi_blobstore_container_object_name_t
        lift_ret_val_F0_ptr := *(*C.wasi_blobstore_container_object_name_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lift_ret_ptr.f0.ptr)) +
        uintptr(lift_ret_val_F0_i)*unsafe.Sizeof(empty_lift_ret_val_F0)))
        var list_lift_ret_val_F0 string
        var list_lift_ret_val_F0_val string
        var list_lift_ret_val_F0_val_val string
        list_lift_ret_val_F0_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_F0_ptr.ptr)), C.int(lift_ret_val_F0_ptr.len))
        list_lift_ret_val_F0_val = list_lift_ret_val_F0_val_val
        list_lift_ret_val_F0 = list_lift_ret_val_F0_val
        lift_ret_val_F0[lift_ret_val_F0_i] = list_lift_ret_val_F0
      }
    }
    lift_ret_val.F0 = lift_ret_val_F0
    lift_ret_val_F1 := lift_ret_ptr.f1
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerSkipStreamObjectNames(this uint32, num uint64) Result[WasiBlobstoreContainerTuple2U64BoolT, string] {
  var lower_this C.uint32_t
  lower_this_val := C.uint32_t(this)
  lower_this = lower_this_val
  lower_num := C.uint64_t(num)
  var ret C.globby_result_tuple2_u64_bool_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_skip_stream_object_names(lower_this, lower_num, &ret)
  var lift_ret Result[WasiBlobstoreContainerTuple2U64BoolT, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.globby_tuple2_u64_bool_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiBlobstoreContainerTuple2U64BoolT
    var lift_ret_val_F0 uint64
    lift_ret_val_F0 = uint64(lift_ret_ptr.f0)
    lift_ret_val.F0 = lift_ret_val_F0
    lift_ret_val_F1 := lift_ret_ptr.f1
    lift_ret_val.F1 = lift_ret_val_F1
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerListObjects(container uint32) Result[uint32, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var ret C.globby_result_wasi_blobstore_container_stream_object_names_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_list_objects(lower_container, &ret)
  var lift_ret Result[uint32, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_container_stream_object_names_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    lift_ret_val_val = uint32(lift_ret_ptr)
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerDeleteObject(container uint32, name string) Result[struct{}, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var lower_name C.wasi_blobstore_types_object_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_container_object_name_free(&lower_name)
  var ret C.globby_result_void_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_delete_object(lower_container, &lower_name, &ret)
  var lift_ret Result[struct{}, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiBlobstoreContainerDeleteObjects(container uint32, names []string) Result[struct{}, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var lower_names C.globby_list_wasi_blobstore_container_object_name_t
  if len(names) == 0 {
    lower_names.ptr = nil
    lower_names.len = 0
  } else {
    var empty_lower_names C.wasi_blobstore_container_object_name_t
    lower_names.ptr = (*C.wasi_blobstore_container_object_name_t)(C.malloc(C.size_t(len(names)) * C.size_t(unsafe.Sizeof(empty_lower_names))))
    lower_names.len = C.size_t(len(names))
    for lower_names_i := range names {
      lower_names_ptr := (*C.wasi_blobstore_container_object_name_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_names.ptr)) +
      uintptr(lower_names_i)*unsafe.Sizeof(empty_lower_names)))
      var lower_names_ptr_value C.wasi_blobstore_types_object_name_t
      var lower_names_ptr_value_val C.globby_string_t
      var lower_names_ptr_value_val_val C.globby_string_t
      
      // use unsafe.Pointer to avoid copy
      lower_names_ptr_value_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(names[lower_names_i])))
      lower_names_ptr_value_val_val.len = C.size_t(len(names[lower_names_i]))
      lower_names_ptr_value_val = lower_names_ptr_value_val_val
      lower_names_ptr_value = lower_names_ptr_value_val
      *lower_names_ptr = lower_names_ptr_value
    }
  }
  defer C.globby_list_wasi_blobstore_container_object_name_free(&lower_names)
  var ret C.globby_result_void_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_delete_objects(lower_container, &lower_names, &ret)
  var lift_ret Result[struct{}, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiBlobstoreContainerHasObject(container uint32, name string) Result[bool, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var lower_name C.wasi_blobstore_types_object_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_container_object_name_free(&lower_name)
  var ret C.globby_result_bool_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_has_object(lower_container, &lower_name, &ret)
  var lift_ret Result[bool, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*bool)(unsafe.Pointer(&ret.val))
    lift_ret_val := lift_ret_ptr
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerObjectInfo(container uint32, name string) Result[WasiBlobstoreTypesObjectMetadata, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var lower_name C.wasi_blobstore_types_object_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_container_object_name_free(&lower_name)
  var ret C.globby_result_wasi_blobstore_container_object_metadata_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_object_info(lower_container, &lower_name, &ret)
  var lift_ret Result[WasiBlobstoreTypesObjectMetadata, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_container_object_metadata_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiBlobstoreTypesObjectMetadata
    var lift_ret_val_val WasiBlobstoreTypesObjectMetadata
    var lift_ret_val_val_Name string
    var lift_ret_val_val_Name_val string
    lift_ret_val_val_Name_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.name.ptr)), C.int(lift_ret_ptr.name.len))
    lift_ret_val_val_Name = lift_ret_val_val_Name_val
    lift_ret_val_val.Name = lift_ret_val_val_Name
    var lift_ret_val_val_Container string
    var lift_ret_val_val_Container_val string
    lift_ret_val_val_Container_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.container.ptr)), C.int(lift_ret_ptr.container.len))
    lift_ret_val_val_Container = lift_ret_val_val_Container_val
    lift_ret_val_val.Container = lift_ret_val_val_Container
    var lift_ret_val_val_CreatedAt uint64
    var lift_ret_val_val_CreatedAt_val uint64
    lift_ret_val_val_CreatedAt_val = uint64(lift_ret_ptr.created_at)
    lift_ret_val_val_CreatedAt = lift_ret_val_val_CreatedAt_val
    lift_ret_val_val.CreatedAt = lift_ret_val_val_CreatedAt
    var lift_ret_val_val_Size uint64
    var lift_ret_val_val_Size_val uint64
    lift_ret_val_val_Size_val = uint64(lift_ret_ptr.size)
    lift_ret_val_val_Size = lift_ret_val_val_Size_val
    lift_ret_val_val.Size = lift_ret_val_val_Size
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreContainerClear(container uint32) Result[struct{}, string] {
  var lower_container C.uint32_t
  lower_container_val := C.uint32_t(container)
  lower_container = lower_container_val
  var ret C.globby_result_void_wasi_blobstore_container_error_t
  C.wasi_blobstore_container_clear(lower_container, &ret)
  var lift_ret Result[struct{}, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_container_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

// Import functions from wasi:blobstore/blobstore
func WasiBlobstoreBlobstoreCreateContainer(name string) Result[uint32, string] {
  var lower_name C.wasi_blobstore_types_container_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_blobstore_container_name_free(&lower_name)
  var ret C.globby_result_wasi_blobstore_blobstore_container_wasi_blobstore_blobstore_error_t
  C.wasi_blobstore_blobstore_create_container(&lower_name, &ret)
  var lift_ret Result[uint32, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_container_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    lift_ret_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreBlobstoreGetContainer(name string) Result[uint32, string] {
  var lower_name C.wasi_blobstore_types_container_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_blobstore_container_name_free(&lower_name)
  var ret C.globby_result_wasi_blobstore_blobstore_container_wasi_blobstore_blobstore_error_t
  C.wasi_blobstore_blobstore_get_container(&lower_name, &ret)
  var lift_ret Result[uint32, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_container_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    lift_ret_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreBlobstoreDeleteContainer(name string) Result[struct{}, string] {
  var lower_name C.wasi_blobstore_types_container_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_blobstore_container_name_free(&lower_name)
  var ret C.globby_result_void_wasi_blobstore_blobstore_error_t
  C.wasi_blobstore_blobstore_delete_container(&lower_name, &ret)
  var lift_ret Result[struct{}, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiBlobstoreBlobstoreContainerExists(name string) Result[bool, string] {
  var lower_name C.wasi_blobstore_types_container_name_t
  var lower_name_val C.globby_string_t
  var lower_name_val_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name_val_val.len = C.size_t(len(name))
  lower_name_val = lower_name_val_val
  lower_name = lower_name_val
  defer C.wasi_blobstore_blobstore_container_name_free(&lower_name)
  var ret C.globby_result_bool_wasi_blobstore_blobstore_error_t
  C.wasi_blobstore_blobstore_container_exists(&lower_name, &ret)
  var lift_ret Result[bool, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*bool)(unsafe.Pointer(&ret.val))
    lift_ret_val := lift_ret_ptr
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiBlobstoreBlobstoreCopyObject(src WasiBlobstoreTypesObjectId, dest WasiBlobstoreTypesObjectId) Result[struct{}, string] {
  var lower_src C.wasi_blobstore_types_object_id_t
  var lower_src_val C.wasi_blobstore_types_object_id_t
  var lower_src_val_container C.globby_string_t
  var lower_src_val_container_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_src_val_container_val.ptr = (*uint8)(unsafe.Pointer(C.CString(src.Container)))
  lower_src_val_container_val.len = C.size_t(len(src.Container))
  lower_src_val_container = lower_src_val_container_val
  lower_src_val.container = lower_src_val_container
  var lower_src_val_object C.globby_string_t
  var lower_src_val_object_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_src_val_object_val.ptr = (*uint8)(unsafe.Pointer(C.CString(src.Object)))
  lower_src_val_object_val.len = C.size_t(len(src.Object))
  lower_src_val_object = lower_src_val_object_val
  lower_src_val.object = lower_src_val_object
  lower_src = lower_src_val
  defer C.wasi_blobstore_blobstore_object_id_free(&lower_src)
  var lower_dest C.wasi_blobstore_types_object_id_t
  var lower_dest_val C.wasi_blobstore_types_object_id_t
  var lower_dest_val_container C.globby_string_t
  var lower_dest_val_container_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_dest_val_container_val.ptr = (*uint8)(unsafe.Pointer(C.CString(dest.Container)))
  lower_dest_val_container_val.len = C.size_t(len(dest.Container))
  lower_dest_val_container = lower_dest_val_container_val
  lower_dest_val.container = lower_dest_val_container
  var lower_dest_val_object C.globby_string_t
  var lower_dest_val_object_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_dest_val_object_val.ptr = (*uint8)(unsafe.Pointer(C.CString(dest.Object)))
  lower_dest_val_object_val.len = C.size_t(len(dest.Object))
  lower_dest_val_object = lower_dest_val_object_val
  lower_dest_val.object = lower_dest_val_object
  lower_dest = lower_dest_val
  defer C.wasi_blobstore_blobstore_object_id_free(&lower_dest)
  var ret C.globby_result_void_wasi_blobstore_blobstore_error_t
  C.wasi_blobstore_blobstore_copy_object(&lower_src, &lower_dest, &ret)
  var lift_ret Result[struct{}, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

func WasiBlobstoreBlobstoreMoveObject(src WasiBlobstoreTypesObjectId, dest WasiBlobstoreTypesObjectId) Result[struct{}, string] {
  var lower_src C.wasi_blobstore_types_object_id_t
  var lower_src_val C.wasi_blobstore_types_object_id_t
  var lower_src_val_container C.globby_string_t
  var lower_src_val_container_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_src_val_container_val.ptr = (*uint8)(unsafe.Pointer(C.CString(src.Container)))
  lower_src_val_container_val.len = C.size_t(len(src.Container))
  lower_src_val_container = lower_src_val_container_val
  lower_src_val.container = lower_src_val_container
  var lower_src_val_object C.globby_string_t
  var lower_src_val_object_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_src_val_object_val.ptr = (*uint8)(unsafe.Pointer(C.CString(src.Object)))
  lower_src_val_object_val.len = C.size_t(len(src.Object))
  lower_src_val_object = lower_src_val_object_val
  lower_src_val.object = lower_src_val_object
  lower_src = lower_src_val
  defer C.wasi_blobstore_blobstore_object_id_free(&lower_src)
  var lower_dest C.wasi_blobstore_types_object_id_t
  var lower_dest_val C.wasi_blobstore_types_object_id_t
  var lower_dest_val_container C.globby_string_t
  var lower_dest_val_container_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_dest_val_container_val.ptr = (*uint8)(unsafe.Pointer(C.CString(dest.Container)))
  lower_dest_val_container_val.len = C.size_t(len(dest.Container))
  lower_dest_val_container = lower_dest_val_container_val
  lower_dest_val.container = lower_dest_val_container
  var lower_dest_val_object C.globby_string_t
  var lower_dest_val_object_val C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_dest_val_object_val.ptr = (*uint8)(unsafe.Pointer(C.CString(dest.Object)))
  lower_dest_val_object_val.len = C.size_t(len(dest.Object))
  lower_dest_val_object = lower_dest_val_object_val
  lower_dest_val.object = lower_dest_val_object
  lower_dest = lower_dest_val
  defer C.wasi_blobstore_blobstore_object_id_free(&lower_dest)
  var ret C.globby_result_void_wasi_blobstore_blobstore_error_t
  C.wasi_blobstore_blobstore_move_object(&lower_src, &lower_dest, &ret)
  var lift_ret Result[struct{}, string]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_blobstore_blobstore_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    var lift_ret_val_val string
    var lift_ret_val_val_val string
    lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.SetErr(lift_ret_val)
  } else {
  }
  return lift_ret
}

// Import functions from wasi:logging/logging
func WasiLoggingLoggingLog(level WasiLoggingLoggingLevel, context string, message string) {
  var lower_level C.wasi_logging_logging_level_t
  if level.Kind() == WasiLoggingLoggingLevelKindTrace {
    lower_level = 0
  }
  if level.Kind() == WasiLoggingLoggingLevelKindDebug {
    lower_level = 1
  }
  if level.Kind() == WasiLoggingLoggingLevelKindInfo {
    lower_level = 2
  }
  if level.Kind() == WasiLoggingLoggingLevelKindWarn {
    lower_level = 3
  }
  if level.Kind() == WasiLoggingLoggingLevelKindError {
    lower_level = 4
  }
  if level.Kind() == WasiLoggingLoggingLevelKindCritical {
    lower_level = 5
  }
  var lower_context C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_context.ptr = (*uint8)(unsafe.Pointer(C.CString(context)))
  lower_context.len = C.size_t(len(context))
  defer C.globby_string_free(&lower_context)
  var lower_message C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_message.ptr = (*uint8)(unsafe.Pointer(C.CString(message)))
  lower_message.len = C.size_t(len(message))
  defer C.globby_string_free(&lower_message)
  C.wasi_logging_logging_log(lower_level, &lower_context, &lower_message)
}

// Import functions from wasi:http/types
func WasiHttpTypesDropFields(fields uint32) {
  var lower_fields C.uint32_t
  lower_fields_val := C.uint32_t(fields)
  lower_fields = lower_fields_val
  C.wasi_http_types_drop_fields(lower_fields)
}

func WasiHttpTypesNewFields(entries []WasiHttpTypesTuple2StringListU8TT) uint32 {
  var lower_entries C.globby_list_tuple2_string_list_u8_t
  if len(entries) == 0 {
    lower_entries.ptr = nil
    lower_entries.len = 0
  } else {
    var empty_lower_entries C.globby_tuple2_string_list_u8_t
    lower_entries.ptr = (*C.globby_tuple2_string_list_u8_t)(C.malloc(C.size_t(len(entries)) * C.size_t(unsafe.Sizeof(empty_lower_entries))))
    lower_entries.len = C.size_t(len(entries))
    for lower_entries_i := range entries {
      lower_entries_ptr := (*C.globby_tuple2_string_list_u8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_entries.ptr)) +
      uintptr(lower_entries_i)*unsafe.Sizeof(empty_lower_entries)))
      var lower_entries_ptr_value C.globby_tuple2_string_list_u8_t
      var lower_entries_ptr_value_f0 C.globby_string_t
      
      // use unsafe.Pointer to avoid copy
      lower_entries_ptr_value_f0.ptr = (*uint8)(unsafe.Pointer(C.CString(entries[lower_entries_i].F0)))
      lower_entries_ptr_value_f0.len = C.size_t(len(entries[lower_entries_i].F0))
      lower_entries_ptr_value.f0 = lower_entries_ptr_value_f0
      var lower_entries_ptr_value_f1 C.globby_list_u8_t
      if len(entries[lower_entries_i].F1) == 0 {
        lower_entries_ptr_value_f1.ptr = nil
        lower_entries_ptr_value_f1.len = 0
      } else {
        var empty_lower_entries_ptr_value_f1 C.uint8_t
        lower_entries_ptr_value_f1.ptr = (*C.uint8_t)(C.malloc(C.size_t(len(entries[lower_entries_i].F1)) * C.size_t(unsafe.Sizeof(empty_lower_entries_ptr_value_f1))))
        lower_entries_ptr_value_f1.len = C.size_t(len(entries[lower_entries_i].F1))
        for lower_entries_ptr_value_f1_i := range entries[lower_entries_i].F1 {
          lower_entries_ptr_value_f1_ptr := (*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_entries_ptr_value_f1.ptr)) +
          uintptr(lower_entries_ptr_value_f1_i)*unsafe.Sizeof(empty_lower_entries_ptr_value_f1)))
          lower_entries_ptr_value_f1_ptr_value := C.uint8_t(entries[lower_entries_i].F1[lower_entries_ptr_value_f1_i])
          *lower_entries_ptr_value_f1_ptr = lower_entries_ptr_value_f1_ptr_value
        }
      }
      lower_entries_ptr_value.f1 = lower_entries_ptr_value_f1
      *lower_entries_ptr = lower_entries_ptr_value
    }
  }
  defer C.globby_list_tuple2_string_list_u8_free(&lower_entries)
  ret := C.wasi_http_types_new_fields(&lower_entries)
  var lift_ret uint32
  var lift_ret_val uint32
  lift_ret_val = uint32(ret)
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesFieldsGet(fields uint32, name string) [][]uint8 {
  var lower_fields C.uint32_t
  lower_fields_val := C.uint32_t(fields)
  lower_fields = lower_fields_val
  var lower_name C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name.len = C.size_t(len(name))
  defer C.globby_string_free(&lower_name)
  var ret C.globby_list_list_u8_t
  C.wasi_http_types_fields_get(lower_fields, &lower_name, &ret)
  var lift_ret [][]uint8
  lift_ret = make([][]uint8, ret.len)
  if ret.len > 0 {
    for lift_ret_i := 0; lift_ret_i < int(ret.len); lift_ret_i++ {
      var empty_lift_ret C.globby_list_u8_t
      lift_ret_ptr := *(*C.globby_list_u8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(ret.ptr)) +
      uintptr(lift_ret_i)*unsafe.Sizeof(empty_lift_ret)))
      var list_lift_ret []uint8
      list_lift_ret = make([]uint8, lift_ret_ptr.len)
      if lift_ret_ptr.len > 0 {
        for list_lift_ret_i := 0; list_lift_ret_i < int(lift_ret_ptr.len); list_lift_ret_i++ {
          var empty_list_lift_ret C.uint8_t
          list_lift_ret_ptr := *(*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lift_ret_ptr.ptr)) +
          uintptr(list_lift_ret_i)*unsafe.Sizeof(empty_list_lift_ret)))
          var list_list_lift_ret uint8
          list_list_lift_ret = uint8(list_lift_ret_ptr)
          list_lift_ret[list_lift_ret_i] = list_list_lift_ret
        }
      }
      lift_ret[lift_ret_i] = list_lift_ret
    }
  }
  return lift_ret
}

func WasiHttpTypesFieldsSet(fields uint32, name string, value [][]uint8) {
  var lower_fields C.uint32_t
  lower_fields_val := C.uint32_t(fields)
  lower_fields = lower_fields_val
  var lower_name C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name.len = C.size_t(len(name))
  defer C.globby_string_free(&lower_name)
  var lower_value C.globby_list_list_u8_t
  if len(value) == 0 {
    lower_value.ptr = nil
    lower_value.len = 0
  } else {
    var empty_lower_value C.globby_list_u8_t
    lower_value.ptr = (*C.globby_list_u8_t)(C.malloc(C.size_t(len(value)) * C.size_t(unsafe.Sizeof(empty_lower_value))))
    lower_value.len = C.size_t(len(value))
    for lower_value_i := range value {
      lower_value_ptr := (*C.globby_list_u8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_value.ptr)) +
      uintptr(lower_value_i)*unsafe.Sizeof(empty_lower_value)))
      if len(value[lower_value_i]) == 0 {
        lower_value_ptr.ptr = nil
        lower_value_ptr.len = 0
      } else {
        var empty_lower_value_ptr C.uint8_t
        lower_value_ptr.ptr = (*C.uint8_t)(C.malloc(C.size_t(len(value[lower_value_i])) * C.size_t(unsafe.Sizeof(empty_lower_value_ptr))))
        lower_value_ptr.len = C.size_t(len(value[lower_value_i]))
        for lower_value_ptr_i := range value[lower_value_i] {
          lower_value_ptr_ptr := (*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_value_ptr.ptr)) +
          uintptr(lower_value_ptr_i)*unsafe.Sizeof(empty_lower_value_ptr)))
          lower_value_ptr_ptr_value := C.uint8_t(value[lower_value_i][lower_value_ptr_i])
          *lower_value_ptr_ptr = lower_value_ptr_ptr_value
        }
      }
    }
  }
  defer C.globby_list_list_u8_free(&lower_value)
  C.wasi_http_types_fields_set(lower_fields, &lower_name, &lower_value)
}

func WasiHttpTypesFieldsDelete(fields uint32, name string) {
  var lower_fields C.uint32_t
  lower_fields_val := C.uint32_t(fields)
  lower_fields = lower_fields_val
  var lower_name C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name.len = C.size_t(len(name))
  defer C.globby_string_free(&lower_name)
  C.wasi_http_types_fields_delete(lower_fields, &lower_name)
}

func WasiHttpTypesFieldsAppend(fields uint32, name string, value []uint8) {
  var lower_fields C.uint32_t
  lower_fields_val := C.uint32_t(fields)
  lower_fields = lower_fields_val
  var lower_name C.globby_string_t
  
  // use unsafe.Pointer to avoid copy
  lower_name.ptr = (*uint8)(unsafe.Pointer(C.CString(name)))
  lower_name.len = C.size_t(len(name))
  defer C.globby_string_free(&lower_name)
  var lower_value C.globby_list_u8_t
  if len(value) == 0 {
    lower_value.ptr = nil
    lower_value.len = 0
  } else {
    var empty_lower_value C.uint8_t
    lower_value.ptr = (*C.uint8_t)(C.malloc(C.size_t(len(value)) * C.size_t(unsafe.Sizeof(empty_lower_value))))
    lower_value.len = C.size_t(len(value))
    for lower_value_i := range value {
      lower_value_ptr := (*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lower_value.ptr)) +
      uintptr(lower_value_i)*unsafe.Sizeof(empty_lower_value)))
      lower_value_ptr_value := C.uint8_t(value[lower_value_i])
      *lower_value_ptr = lower_value_ptr_value
    }
  }
  defer C.globby_list_u8_free(&lower_value)
  C.wasi_http_types_fields_append(lower_fields, &lower_name, &lower_value)
}

func WasiHttpTypesFieldsEntries(fields uint32) []WasiHttpTypesTuple2StringListU8TT {
  var lower_fields C.uint32_t
  lower_fields_val := C.uint32_t(fields)
  lower_fields = lower_fields_val
  var ret C.globby_list_tuple2_string_list_u8_t
  C.wasi_http_types_fields_entries(lower_fields, &ret)
  var lift_ret []WasiHttpTypesTuple2StringListU8TT
  lift_ret = make([]WasiHttpTypesTuple2StringListU8TT, ret.len)
  if ret.len > 0 {
    for lift_ret_i := 0; lift_ret_i < int(ret.len); lift_ret_i++ {
      var empty_lift_ret C.globby_tuple2_string_list_u8_t
      lift_ret_ptr := *(*C.globby_tuple2_string_list_u8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(ret.ptr)) +
      uintptr(lift_ret_i)*unsafe.Sizeof(empty_lift_ret)))
      var list_lift_ret WasiHttpTypesTuple2StringListU8TT
      var list_lift_ret_F0 string
      list_lift_ret_F0 = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.f0.ptr)), C.int(lift_ret_ptr.f0.len))
      list_lift_ret.F0 = list_lift_ret_F0
      var list_lift_ret_F1 []uint8
      list_lift_ret_F1 = make([]uint8, lift_ret_ptr.f1.len)
      if lift_ret_ptr.f1.len > 0 {
        for list_lift_ret_F1_i := 0; list_lift_ret_F1_i < int(lift_ret_ptr.f1.len); list_lift_ret_F1_i++ {
          var empty_list_lift_ret_F1 C.uint8_t
          list_lift_ret_F1_ptr := *(*C.uint8_t)(unsafe.Pointer(uintptr(unsafe.Pointer(lift_ret_ptr.f1.ptr)) +
          uintptr(list_lift_ret_F1_i)*unsafe.Sizeof(empty_list_lift_ret_F1)))
          var list_list_lift_ret_F1 uint8
          list_list_lift_ret_F1 = uint8(list_lift_ret_F1_ptr)
          list_lift_ret_F1[list_lift_ret_F1_i] = list_list_lift_ret_F1
        }
      }
      list_lift_ret.F1 = list_lift_ret_F1
      lift_ret[lift_ret_i] = list_lift_ret
    }
  }
  return lift_ret
}

func WasiHttpTypesFieldsClone(fields uint32) uint32 {
  var lower_fields C.uint32_t
  lower_fields_val := C.uint32_t(fields)
  lower_fields = lower_fields_val
  ret := C.wasi_http_types_fields_clone(lower_fields)
  var lift_ret uint32
  var lift_ret_val uint32
  lift_ret_val = uint32(ret)
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesFinishIncomingStream(s uint32) Option[uint32] {
  var lower_s C.wasi_http_types_input_stream_t
  var lower_s_val C.wasi_io_streams_input_stream_t
  var lower_s_val_val C.uint32_t
  lower_s_val_val_val := C.uint32_t(s)
  lower_s_val_val = lower_s_val_val_val
  lower_s_val = lower_s_val_val
  lower_s = lower_s_val
  var ret C.globby_option_wasi_http_types_future_trailers_t
  C.wasi_http_types_finish_incoming_stream(lower_s, &ret)
  var lift_ret Option[uint32]
  if ret.is_some {
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    lift_ret_val_val = uint32(ret.val)
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  } else {
    lift_ret.Unset()
  }
  return lift_ret
}

func WasiHttpTypesFinishOutgoingStream(s uint32) {
  var lower_s C.wasi_http_types_output_stream_t
  var lower_s_val C.wasi_io_streams_output_stream_t
  var lower_s_val_val C.uint32_t
  lower_s_val_val_val := C.uint32_t(s)
  lower_s_val_val = lower_s_val_val_val
  lower_s_val = lower_s_val_val
  lower_s = lower_s_val
  C.wasi_http_types_finish_outgoing_stream(lower_s)
}

func WasiHttpTypesFinishOutgoingStreamWithTrailers(s uint32, trailers uint32) uint32 {
  var lower_s C.wasi_http_types_output_stream_t
  var lower_s_val C.wasi_io_streams_output_stream_t
  var lower_s_val_val C.uint32_t
  lower_s_val_val_val := C.uint32_t(s)
  lower_s_val_val = lower_s_val_val_val
  lower_s_val = lower_s_val_val
  lower_s = lower_s_val
  var lower_trailers C.wasi_http_types_fields_t
  var lower_trailers_val C.uint32_t
  lower_trailers_val_val := C.uint32_t(trailers)
  lower_trailers_val = lower_trailers_val_val
  lower_trailers = lower_trailers_val
  ret := C.wasi_http_types_finish_outgoing_stream_with_trailers(lower_s, lower_trailers)
  var lift_ret uint32
  var lift_ret_val uint32
  lift_ret_val = uint32(ret)
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesDropFutureTrailers(f uint32) {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  C.wasi_http_types_drop_future_trailers(lower_f)
}

func WasiHttpTypesFutureTrailersGet(f uint32) Option[Result[uint32, WasiHttpTypesError]] {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  var ret C.globby_option_result_wasi_http_types_trailers_wasi_http_types_error_t
  C.wasi_http_types_future_trailers_get(lower_f, &ret)
  var lift_ret Option[Result[uint32, WasiHttpTypesError]]
  if ret.is_some {
    var lift_ret_val Result[uint32, WasiHttpTypesError]
    if ret.val.is_err {
      lift_ret_val_ptr := *(*C.wasi_http_types_error_t)(unsafe.Pointer(&ret.val.val))
      var lift_ret_val_val WasiHttpTypesError
      if lift_ret_val_ptr.tag == 0 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorInvalidUrl(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 1 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorTimeoutError(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 2 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorProtocolError(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 3 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorUnexpectedError(lift_ret_val_val_val)
      }
      lift_ret_val.SetErr(lift_ret_val_val)
    } else {
      lift_ret_val_ptr := *(*C.wasi_http_types_trailers_t)(unsafe.Pointer(&ret.val.val))
      var lift_ret_val_val uint32
      var lift_ret_val_val_val uint32
      var lift_ret_val_val_val_val uint32
      lift_ret_val_val_val_val = uint32(lift_ret_val_ptr)
      lift_ret_val_val_val = lift_ret_val_val_val_val
      lift_ret_val_val = lift_ret_val_val_val
      lift_ret_val.Set(lift_ret_val_val)
    }
    lift_ret.Set(lift_ret_val)
  } else {
    lift_ret.Unset()
  }
  return lift_ret
}

func WasiHttpTypesListenToFutureTrailers(f uint32) uint32 {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  ret := C.wasi_http_types_listen_to_future_trailers(lower_f)
  var lift_ret uint32
  var lift_ret_val uint32
  var lift_ret_val_val uint32
  lift_ret_val_val = uint32(ret)
  lift_ret_val = lift_ret_val_val
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesDropFutureWriteTrailersResult(f uint32) {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  C.wasi_http_types_drop_future_write_trailers_result(lower_f)
}

func WasiHttpTypesFutureWriteTrailersResultGet(f uint32) Option[Result[struct{}, WasiHttpTypesError]] {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  var ret C.globby_option_result_void_wasi_http_types_error_t
  C.wasi_http_types_future_write_trailers_result_get(lower_f, &ret)
  var lift_ret Option[Result[struct{}, WasiHttpTypesError]]
  if ret.is_some {
    var lift_ret_val Result[struct{}, WasiHttpTypesError]
    if ret.val.is_err {
      lift_ret_val_ptr := *(*C.wasi_http_types_error_t)(unsafe.Pointer(&ret.val.val))
      var lift_ret_val_val WasiHttpTypesError
      if lift_ret_val_ptr.tag == 0 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorInvalidUrl(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 1 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorTimeoutError(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 2 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorProtocolError(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 3 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorUnexpectedError(lift_ret_val_val_val)
      }
      lift_ret_val.SetErr(lift_ret_val_val)
    } else {
    }
    lift_ret.Set(lift_ret_val)
  } else {
    lift_ret.Unset()
  }
  return lift_ret
}

func WasiHttpTypesListenToFutureWriteTrailersResult(f uint32) uint32 {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  ret := C.wasi_http_types_listen_to_future_write_trailers_result(lower_f)
  var lift_ret uint32
  var lift_ret_val uint32
  var lift_ret_val_val uint32
  lift_ret_val_val = uint32(ret)
  lift_ret_val = lift_ret_val_val
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesDropIncomingRequest(request uint32) {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  C.wasi_http_types_drop_incoming_request(lower_request)
}

func WasiHttpTypesDropOutgoingRequest(request uint32) {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  C.wasi_http_types_drop_outgoing_request(lower_request)
}

func WasiHttpTypesIncomingRequestMethod(request uint32) WasiHttpTypesMethod {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  var ret C.wasi_http_types_method_t
  C.wasi_http_types_incoming_request_method(lower_request, &ret)
  var lift_ret WasiHttpTypesMethod
  if ret.tag == 0 {
    lift_ret = WasiHttpTypesMethodGet()
  }
  if ret.tag == 1 {
    lift_ret = WasiHttpTypesMethodHead()
  }
  if ret.tag == 2 {
    lift_ret = WasiHttpTypesMethodPost()
  }
  if ret.tag == 3 {
    lift_ret = WasiHttpTypesMethodPut()
  }
  if ret.tag == 4 {
    lift_ret = WasiHttpTypesMethodDelete()
  }
  if ret.tag == 5 {
    lift_ret = WasiHttpTypesMethodConnect()
  }
  if ret.tag == 6 {
    lift_ret = WasiHttpTypesMethodOptions()
  }
  if ret.tag == 7 {
    lift_ret = WasiHttpTypesMethodTrace()
  }
  if ret.tag == 8 {
    lift_ret = WasiHttpTypesMethodPatch()
  }
  if ret.tag == 9 {
    lift_ret_ptr := *(*C.globby_string_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val string
    lift_ret_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_ptr.ptr)), C.int(lift_ret_ptr.len))
    lift_ret = WasiHttpTypesMethodOther(lift_ret_val)
  }
  return lift_ret
}

func WasiHttpTypesIncomingRequestPathWithQuery(request uint32) Option[string] {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  var ret C.globby_option_string_t
  C.wasi_http_types_incoming_request_path_with_query(lower_request, &ret)
  var lift_ret Option[string]
  if ret.is_some {
    var lift_ret_val string
    lift_ret_val = C.GoStringN((*C.char)(unsafe.Pointer(ret.val.ptr)), C.int(ret.val.len))
    lift_ret.Set(lift_ret_val)
  } else {
    lift_ret.Unset()
  }
  return lift_ret
}

func WasiHttpTypesIncomingRequestScheme(request uint32) Option[WasiHttpTypesScheme] {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  var ret C.globby_option_wasi_http_types_scheme_t
  C.wasi_http_types_incoming_request_scheme(lower_request, &ret)
  var lift_ret Option[WasiHttpTypesScheme]
  if ret.is_some {
    var lift_ret_val WasiHttpTypesScheme
    if ret.val.tag == 0 {
      lift_ret_val = WasiHttpTypesSchemeHttp()
    }
    if ret.val.tag == 1 {
      lift_ret_val = WasiHttpTypesSchemeHttps()
    }
    if ret.val.tag == 2 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&ret.val.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesSchemeOther(lift_ret_val_val)
    }
    lift_ret.Set(lift_ret_val)
  } else {
    lift_ret.Unset()
  }
  return lift_ret
}

func WasiHttpTypesIncomingRequestAuthority(request uint32) Option[string] {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  var ret C.globby_option_string_t
  C.wasi_http_types_incoming_request_authority(lower_request, &ret)
  var lift_ret Option[string]
  if ret.is_some {
    var lift_ret_val string
    lift_ret_val = C.GoStringN((*C.char)(unsafe.Pointer(ret.val.ptr)), C.int(ret.val.len))
    lift_ret.Set(lift_ret_val)
  } else {
    lift_ret.Unset()
  }
  return lift_ret
}

func WasiHttpTypesIncomingRequestHeaders(request uint32) uint32 {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  ret := C.wasi_http_types_incoming_request_headers(lower_request)
  var lift_ret uint32
  var lift_ret_val uint32
  var lift_ret_val_val uint32
  lift_ret_val_val = uint32(ret)
  lift_ret_val = lift_ret_val_val
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesIncomingRequestConsume(request uint32) Result[uint32, struct{}] {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  var ret C.globby_result_wasi_http_types_incoming_stream_void_t
  C.wasi_http_types_incoming_request_consume(lower_request, &ret)
  var lift_ret Result[uint32, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.wasi_http_types_incoming_stream_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    var lift_ret_val_val_val_val uint32
    lift_ret_val_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val_val = lift_ret_val_val_val_val
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiHttpTypesNewOutgoingRequest(method WasiHttpTypesMethod, path_with_query Option[string], scheme Option[WasiHttpTypesScheme], authority Option[string], headers uint32) Result[uint32, WasiHttpTypesError] {
  var lower_method C.wasi_http_types_method_t
  if method.Kind() == WasiHttpTypesMethodKindGet {
    lower_method.tag = 0
  }
  if method.Kind() == WasiHttpTypesMethodKindHead {
    lower_method.tag = 1
  }
  if method.Kind() == WasiHttpTypesMethodKindPost {
    lower_method.tag = 2
  }
  if method.Kind() == WasiHttpTypesMethodKindPut {
    lower_method.tag = 3
  }
  if method.Kind() == WasiHttpTypesMethodKindDelete {
    lower_method.tag = 4
  }
  if method.Kind() == WasiHttpTypesMethodKindConnect {
    lower_method.tag = 5
  }
  if method.Kind() == WasiHttpTypesMethodKindOptions {
    lower_method.tag = 6
  }
  if method.Kind() == WasiHttpTypesMethodKindTrace {
    lower_method.tag = 7
  }
  if method.Kind() == WasiHttpTypesMethodKindPatch {
    lower_method.tag = 8
  }
  if method.Kind() == WasiHttpTypesMethodKindOther {
    
    lower_method.tag = 9
    lower_method_ptr := (*C.globby_string_t)(unsafe.Pointer(&lower_method.val))
    var lower_method_val C.globby_string_t
    
    // use unsafe.Pointer to avoid copy
    lower_method_val.ptr = (*uint8)(unsafe.Pointer(C.CString(method.GetOther())))
    lower_method_val.len = C.size_t(len(method.GetOther()))
    *lower_method_ptr = lower_method_val
  }
  defer C.wasi_http_types_method_free(&lower_method)
  var lower_path_with_query C.globby_option_string_t
  if path_with_query.IsSome() {
    var lower_path_with_query_val C.globby_string_t
    
    // use unsafe.Pointer to avoid copy
    lower_path_with_query_val.ptr = (*uint8)(unsafe.Pointer(C.CString(path_with_query.Unwrap())))
    lower_path_with_query_val.len = C.size_t(len(path_with_query.Unwrap()))
    lower_path_with_query.val = lower_path_with_query_val
    lower_path_with_query.is_some = true
  }
  defer C.globby_option_string_free(&lower_path_with_query)
  var lower_scheme C.globby_option_wasi_http_types_scheme_t
  if scheme.IsSome() {
    var lower_scheme_val C.wasi_http_types_scheme_t
    if scheme.Unwrap().Kind() == WasiHttpTypesSchemeKindHttp {
      lower_scheme_val.tag = 0
    }
    if scheme.Unwrap().Kind() == WasiHttpTypesSchemeKindHttps {
      lower_scheme_val.tag = 1
    }
    if scheme.Unwrap().Kind() == WasiHttpTypesSchemeKindOther {
      
      lower_scheme_val.tag = 2
      lower_scheme_val_ptr := (*C.globby_string_t)(unsafe.Pointer(&lower_scheme_val.val))
      var lower_scheme_val_val C.globby_string_t
      
      // use unsafe.Pointer to avoid copy
      lower_scheme_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(scheme.Unwrap().GetOther())))
      lower_scheme_val_val.len = C.size_t(len(scheme.Unwrap().GetOther()))
      *lower_scheme_val_ptr = lower_scheme_val_val
    }
    lower_scheme.val = lower_scheme_val
    lower_scheme.is_some = true
  }
  defer C.globby_option_wasi_http_types_scheme_free(&lower_scheme)
  var lower_authority C.globby_option_string_t
  if authority.IsSome() {
    var lower_authority_val C.globby_string_t
    
    // use unsafe.Pointer to avoid copy
    lower_authority_val.ptr = (*uint8)(unsafe.Pointer(C.CString(authority.Unwrap())))
    lower_authority_val.len = C.size_t(len(authority.Unwrap()))
    lower_authority.val = lower_authority_val
    lower_authority.is_some = true
  }
  defer C.globby_option_string_free(&lower_authority)
  var lower_headers C.wasi_http_types_fields_t
  var lower_headers_val C.uint32_t
  lower_headers_val_val := C.uint32_t(headers)
  lower_headers_val = lower_headers_val_val
  lower_headers = lower_headers_val
  var ret C.globby_result_wasi_http_types_outgoing_request_wasi_http_types_error_t
  C.wasi_http_types_new_outgoing_request(&lower_method, &lower_path_with_query, &lower_scheme, &lower_authority, lower_headers, &ret)
  var lift_ret Result[uint32, WasiHttpTypesError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_http_types_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiHttpTypesError
    if lift_ret_ptr.tag == 0 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorInvalidUrl(lift_ret_val_val)
    }
    if lift_ret_ptr.tag == 1 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorTimeoutError(lift_ret_val_val)
    }
    if lift_ret_ptr.tag == 2 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorProtocolError(lift_ret_val_val)
    }
    if lift_ret_ptr.tag == 3 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorUnexpectedError(lift_ret_val_val)
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_http_types_outgoing_request_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    lift_ret_val_val = uint32(lift_ret_ptr)
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiHttpTypesOutgoingRequestWrite(request uint32) Result[uint32, struct{}] {
  var lower_request C.uint32_t
  lower_request_val := C.uint32_t(request)
  lower_request = lower_request_val
  var ret C.globby_result_wasi_http_types_outgoing_stream_void_t
  C.wasi_http_types_outgoing_request_write(lower_request, &ret)
  var lift_ret Result[uint32, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.wasi_http_types_outgoing_stream_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    var lift_ret_val_val_val_val uint32
    lift_ret_val_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val_val = lift_ret_val_val_val_val
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiHttpTypesDropResponseOutparam(response uint32) {
  var lower_response C.uint32_t
  lower_response_val := C.uint32_t(response)
  lower_response = lower_response_val
  C.wasi_http_types_drop_response_outparam(lower_response)
}

func WasiHttpTypesSetResponseOutparam(param uint32, response Result[uint32, WasiHttpTypesError]) Result[struct{}, struct{}] {
  var lower_param C.uint32_t
  lower_param_val := C.uint32_t(param)
  lower_param = lower_param_val
  var lower_response C.globby_result_wasi_http_types_outgoing_response_wasi_http_types_error_t
  lower_response.is_err = response.IsErr()
  if response.IsOk() {
    lower_response_ptr := (*C.wasi_http_types_outgoing_response_t)(unsafe.Pointer(&lower_response.val))
    var lower_response_val C.uint32_t
    lower_response_val_val := C.uint32_t(response.Unwrap())
    lower_response_val = lower_response_val_val
    *lower_response_ptr = lower_response_val
  } else {
    lower_response_ptr := (*C.wasi_http_types_error_t)(unsafe.Pointer(&lower_response.val))
    var lower_response_val C.wasi_http_types_error_t
    if response.UnwrapErr().Kind() == WasiHttpTypesErrorKindInvalidUrl {
      
      lower_response_val.tag = 0
      lower_response_val_ptr := (*C.globby_string_t)(unsafe.Pointer(&lower_response_val.val))
      var lower_response_val_val C.globby_string_t
      
      // use unsafe.Pointer to avoid copy
      lower_response_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(response.UnwrapErr().GetInvalidUrl())))
      lower_response_val_val.len = C.size_t(len(response.UnwrapErr().GetInvalidUrl()))
      *lower_response_val_ptr = lower_response_val_val
    }
    if response.UnwrapErr().Kind() == WasiHttpTypesErrorKindTimeoutError {
      
      lower_response_val.tag = 1
      lower_response_val_ptr := (*C.globby_string_t)(unsafe.Pointer(&lower_response_val.val))
      var lower_response_val_val C.globby_string_t
      
      // use unsafe.Pointer to avoid copy
      lower_response_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(response.UnwrapErr().GetTimeoutError())))
      lower_response_val_val.len = C.size_t(len(response.UnwrapErr().GetTimeoutError()))
      *lower_response_val_ptr = lower_response_val_val
    }
    if response.UnwrapErr().Kind() == WasiHttpTypesErrorKindProtocolError {
      
      lower_response_val.tag = 2
      lower_response_val_ptr := (*C.globby_string_t)(unsafe.Pointer(&lower_response_val.val))
      var lower_response_val_val C.globby_string_t
      
      // use unsafe.Pointer to avoid copy
      lower_response_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(response.UnwrapErr().GetProtocolError())))
      lower_response_val_val.len = C.size_t(len(response.UnwrapErr().GetProtocolError()))
      *lower_response_val_ptr = lower_response_val_val
    }
    if response.UnwrapErr().Kind() == WasiHttpTypesErrorKindUnexpectedError {
      
      lower_response_val.tag = 3
      lower_response_val_ptr := (*C.globby_string_t)(unsafe.Pointer(&lower_response_val.val))
      var lower_response_val_val C.globby_string_t
      
      // use unsafe.Pointer to avoid copy
      lower_response_val_val.ptr = (*uint8)(unsafe.Pointer(C.CString(response.UnwrapErr().GetUnexpectedError())))
      lower_response_val_val.len = C.size_t(len(response.UnwrapErr().GetUnexpectedError()))
      *lower_response_val_ptr = lower_response_val_val
    }
    *lower_response_ptr = lower_response_val
  }
  defer C.globby_result_wasi_http_types_outgoing_response_wasi_http_types_error_free(&lower_response)
  var ret C.globby_result_void_void_t
  C.wasi_http_types_set_response_outparam(lower_param, &lower_response, &ret)
  var lift_ret Result[struct{}, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
  }
  return lift_ret
}

func WasiHttpTypesDropIncomingResponse(response uint32) {
  var lower_response C.uint32_t
  lower_response_val := C.uint32_t(response)
  lower_response = lower_response_val
  C.wasi_http_types_drop_incoming_response(lower_response)
}

func WasiHttpTypesDropOutgoingResponse(response uint32) {
  var lower_response C.uint32_t
  lower_response_val := C.uint32_t(response)
  lower_response = lower_response_val
  C.wasi_http_types_drop_outgoing_response(lower_response)
}

func WasiHttpTypesIncomingResponseStatus(response uint32) uint16 {
  var lower_response C.uint32_t
  lower_response_val := C.uint32_t(response)
  lower_response = lower_response_val
  ret := C.wasi_http_types_incoming_response_status(lower_response)
  var lift_ret uint16
  var lift_ret_val uint16
  lift_ret_val = uint16(ret)
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesIncomingResponseHeaders(response uint32) uint32 {
  var lower_response C.uint32_t
  lower_response_val := C.uint32_t(response)
  lower_response = lower_response_val
  ret := C.wasi_http_types_incoming_response_headers(lower_response)
  var lift_ret uint32
  var lift_ret_val uint32
  var lift_ret_val_val uint32
  lift_ret_val_val = uint32(ret)
  lift_ret_val = lift_ret_val_val
  lift_ret = lift_ret_val
  return lift_ret
}

func WasiHttpTypesIncomingResponseConsume(response uint32) Result[uint32, struct{}] {
  var lower_response C.uint32_t
  lower_response_val := C.uint32_t(response)
  lower_response = lower_response_val
  var ret C.globby_result_wasi_http_types_incoming_stream_void_t
  C.wasi_http_types_incoming_response_consume(lower_response, &ret)
  var lift_ret Result[uint32, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.wasi_http_types_incoming_stream_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    var lift_ret_val_val_val_val uint32
    lift_ret_val_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val_val = lift_ret_val_val_val_val
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiHttpTypesNewOutgoingResponse(status_code uint16, headers uint32) Result[uint32, WasiHttpTypesError] {
  var lower_status_code C.uint16_t
  lower_status_code_val := C.uint16_t(status_code)
  lower_status_code = lower_status_code_val
  var lower_headers C.wasi_http_types_fields_t
  var lower_headers_val C.uint32_t
  lower_headers_val_val := C.uint32_t(headers)
  lower_headers_val = lower_headers_val_val
  lower_headers = lower_headers_val
  var ret C.globby_result_wasi_http_types_outgoing_response_wasi_http_types_error_t
  C.wasi_http_types_new_outgoing_response(lower_status_code, lower_headers, &ret)
  var lift_ret Result[uint32, WasiHttpTypesError]
  if ret.is_err {
    lift_ret_ptr := *(*C.wasi_http_types_error_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val WasiHttpTypesError
    if lift_ret_ptr.tag == 0 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorInvalidUrl(lift_ret_val_val)
    }
    if lift_ret_ptr.tag == 1 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorTimeoutError(lift_ret_val_val)
    }
    if lift_ret_ptr.tag == 2 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorProtocolError(lift_ret_val_val)
    }
    if lift_ret_ptr.tag == 3 {
      lift_ret_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_ptr.val))
      var lift_ret_val_val string
      lift_ret_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_ptr.ptr)), C.int(lift_ret_val_ptr.len))
      lift_ret_val = WasiHttpTypesErrorUnexpectedError(lift_ret_val_val)
    }
    lift_ret.SetErr(lift_ret_val)
  } else {
    lift_ret_ptr := *(*C.wasi_http_types_outgoing_response_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    lift_ret_val_val = uint32(lift_ret_ptr)
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiHttpTypesOutgoingResponseWrite(response uint32) Result[uint32, struct{}] {
  var lower_response C.uint32_t
  lower_response_val := C.uint32_t(response)
  lower_response = lower_response_val
  var ret C.globby_result_wasi_http_types_outgoing_stream_void_t
  C.wasi_http_types_outgoing_response_write(lower_response, &ret)
  var lift_ret Result[uint32, struct{}]
  if ret.is_err {
    lift_ret.SetErr(struct{}{})
  } else {
    lift_ret_ptr := *(*C.wasi_http_types_outgoing_stream_t)(unsafe.Pointer(&ret.val))
    var lift_ret_val uint32
    var lift_ret_val_val uint32
    var lift_ret_val_val_val uint32
    var lift_ret_val_val_val_val uint32
    lift_ret_val_val_val_val = uint32(lift_ret_ptr)
    lift_ret_val_val_val = lift_ret_val_val_val_val
    lift_ret_val_val = lift_ret_val_val_val
    lift_ret_val = lift_ret_val_val
    lift_ret.Set(lift_ret_val)
  }
  return lift_ret
}

func WasiHttpTypesDropFutureIncomingResponse(f uint32) {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  C.wasi_http_types_drop_future_incoming_response(lower_f)
}

func WasiHttpTypesFutureIncomingResponseGet(f uint32) Option[Result[uint32, WasiHttpTypesError]] {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  var ret C.globby_option_result_wasi_http_types_incoming_response_wasi_http_types_error_t
  C.wasi_http_types_future_incoming_response_get(lower_f, &ret)
  var lift_ret Option[Result[uint32, WasiHttpTypesError]]
  if ret.is_some {
    var lift_ret_val Result[uint32, WasiHttpTypesError]
    if ret.val.is_err {
      lift_ret_val_ptr := *(*C.wasi_http_types_error_t)(unsafe.Pointer(&ret.val.val))
      var lift_ret_val_val WasiHttpTypesError
      if lift_ret_val_ptr.tag == 0 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorInvalidUrl(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 1 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorTimeoutError(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 2 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorProtocolError(lift_ret_val_val_val)
      }
      if lift_ret_val_ptr.tag == 3 {
        lift_ret_val_val_ptr := *(*C.globby_string_t)(unsafe.Pointer(&lift_ret_val_ptr.val))
        var lift_ret_val_val_val string
        lift_ret_val_val_val = C.GoStringN((*C.char)(unsafe.Pointer(lift_ret_val_val_ptr.ptr)), C.int(lift_ret_val_val_ptr.len))
        lift_ret_val_val = WasiHttpTypesErrorUnexpectedError(lift_ret_val_val_val)
      }
      lift_ret_val.SetErr(lift_ret_val_val)
    } else {
      lift_ret_val_ptr := *(*C.wasi_http_types_incoming_response_t)(unsafe.Pointer(&ret.val.val))
      var lift_ret_val_val uint32
      var lift_ret_val_val_val uint32
      lift_ret_val_val_val = uint32(lift_ret_val_ptr)
      lift_ret_val_val = lift_ret_val_val_val
      lift_ret_val.Set(lift_ret_val_val)
    }
    lift_ret.Set(lift_ret_val)
  } else {
    lift_ret.Unset()
  }
  return lift_ret
}

func WasiHttpTypesListenToFutureIncomingResponse(f uint32) uint32 {
  var lower_f C.uint32_t
  lower_f_val := C.uint32_t(f)
  lower_f = lower_f_val
  ret := C.wasi_http_types_listen_to_future_incoming_response(lower_f)
  var lift_ret uint32
  var lift_ret_val uint32
  var lift_ret_val_val uint32
  lift_ret_val_val = uint32(ret)
  lift_ret_val = lift_ret_val_val
  lift_ret = lift_ret_val
  return lift_ret
}

// Export functions from wasi:http/incoming-handler
var wasi_http_incoming_handler ExportsWasiHttpIncomingHandler = nil
func SetExportsWasiHttpIncomingHandler(i ExportsWasiHttpIncomingHandler) {
  wasi_http_incoming_handler = i
}
type ExportsWasiHttpIncomingHandler interface {
  Handle(request uint32, response_out uint32) 
}
//export exports_wasi_http_incoming_handler_handle
func ExportsWasiHttpIncomingHandlerHandle(request C.wasi_http_incoming_handler_incoming_request_t, response_out C.wasi_http_incoming_handler_response_outparam_t) {
  var lift_request uint32
  var lift_request_val uint32
  var lift_request_val_val uint32
  lift_request_val_val = uint32(request)
  lift_request_val = lift_request_val_val
  lift_request = lift_request_val
  var lift_response_out uint32
  var lift_response_out_val uint32
  var lift_response_out_val_val uint32
  lift_response_out_val_val = uint32(response_out)
  lift_response_out_val = lift_response_out_val_val
  lift_response_out = lift_response_out_val
  wasi_http_incoming_handler.Handle(lift_request, lift_response_out)
  
}
